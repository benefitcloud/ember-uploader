define("ember-uploader",["ember-uploader/uploader","ember-uploader/s3","ember-uploader/file-field","exports"],function(e,t,r,a){"use strict";var i=e["default"];var n=t["default"];var s=r["default"];a["default"]={Uploader:i,S3Uploader:n,FileField:s}});define("ember-uploader/file-field",["exports"],function(e){"use strict";var t=Ember.set;e["default"]=Ember.TextField.extend({type:"file",attributeBindings:["multiple"],multiple:false,change:function(e){var r=e.target;if(!Ember.isEmpty(r.files)){t(this,"files",r.files)}}})});define("ember-uploader/s3",["ember-uploader/uploader","exports"],function(e,t){"use strict";var r=e["default"];var a=Ember.get,i=Ember.set;t["default"]=r.extend({url:"/sign",headers:null,filePath:null,upload:function(e,t){var r=this;i(this,"isUploading",true);return this.sign(e,t).then(function(t){var a=null;if(t.region){a="//s3-"+t.region+".amazonaws.com/"+t.bucket;delete t.region}else{a="//"+t.bucket+".s3.amazonaws.com"}var i=r.setupFormData(e,t);r.set("filePath",a+"/"+t.key);return r.ajax(a,i)}).then(function(e){if(!e){e={};e["filePath"]=r.get("filePath")}r.didUpload(e);return e})},sign:function(e,t){t=t||{};t.name=e.name;t.type=e.type;t.size=e.size;var r={url:a(this,"url"),headers:a(this,"headers"),type:"GET",contentType:"json",data:t};return this._ajax(r)}})});define("ember-uploader/uploader",["exports"],function(e){"use strict";var t=Ember.get,r=Ember.set;e["default"]=Ember.Object.extend(Ember.Evented,{url:null,paramNamespace:null,paramName:"file",type:"POST",upload:function(e,a){a=a||{};var i=this.setupFormData(e,a);var n=t(this,"url");var s=t(this,"type");var o=this;r(this,"isUploading",true);return this.ajax(n,i,s).then(function(e){o.didUpload(e);return e})},setupFormData:function(e,t){var r=new FormData;for(var a in t){if(t.hasOwnProperty(a)){r.append(this.toNamespacedParam(a),t[a])}}if(Ember.isArray(e)){for(var i=e.length-1;i>=0;i--){r.append(this.toNamespacedParam(this.paramName),e[i])}}else{r.append(this.toNamespacedParam(this.paramName),e)}return r},toNamespacedParam:function(e){if(this.paramNamespace){return this.paramNamespace+"["+e+"]"}return e},didUpload:function(e){r(this,"isUploading",false);this.trigger("didUpload",e)},didProgress:function(e){e.percent=e.loaded/e.total*100;this.trigger("progress",e)},abort:function(){r(this,"isUploading",false);this.trigger("isAborting")},ajax:function(e,t,r){var a=this;var i={url:e,type:r||"POST",contentType:false,processData:false,xhr:function(){var e=Ember.$.ajaxSettings.xhr();e.upload.onprogress=function(e){a.didProgress(e)};a.one("isAborting",function(){e.abort()});return e},data:t};return this._ajax(i)},_ajax:function(e){return new Ember.RSVP.Promise(function(t,r){e.success=function(e){Ember.run(null,t,e)};e.error=function(e,t,a){Ember.run(null,r,e)};Ember.$.ajax(e)})}})});